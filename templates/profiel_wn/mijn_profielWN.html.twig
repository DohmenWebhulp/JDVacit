{% extends 'base.html.twig' %}

{% block title %}Profiel Werknemer{% endblock %}

{% block body %}
<style>
    .example-wrapper { margin: 1em auto; max-width: 800px; width: 95%; font: 18px/1.5 sans-serif; }
    .example-wrapper code { background: #F5F5F5; padding: 2px 6px; }
</style>

<div class="box">
    <div class="box-content">
        <div class="buttons">
            <a href="{{path('mijn_sols', { 'user_id' : user.id})}}" class="box-content1">Mijn Sollicitaties</a>
            <a href="{{path('homepage')}}">Homepage</a>
        </div>
    </div>
</div>

<div class="row" style="color: #F15A24">
    <div class="col-md-3" style="margin-left: 50px">
        Foto
    </div>
    <div class="col-md-8">
        <h1 style="color: #F15A24; margin-bottom: 30px">Mijn Profiel</h1>
        <form action="{{path('bijwerken')}}" method="POST">
            <label for="inputEmail">Email</label>
            <input type="text" value="{{user.email}}" name="email" id="inputEmail" class="form-control rc" autocomplete="email" required autofocus>
            <label for="inputPassword">Password</label>
            <input type="text" value="{{user.password}}" name="password" id="inputPassword" class="form-control rc" autocomplete="current-password" required>
            <label for="inputGebruikersnaam">Gebruikersnaam</label>
            <input type="text" value="{{user.gebruikersnaam}}" name="gebruikersnaam" id="inputGebruikersnaam" class="form-control rc">
            <label for="inputAdres">Adres</label>
            <input type="text" value="{{user.adres}}" name="adres" id="inputAdres" class="form-control rc">
            <label for="inputGeboortedatum">Geboortedatum</label>
            <input type="text" value="{{user.geboortedatum | date('Y/m/d')}}" name="geboortedatum" id="inputGeboortedatum" class="form-control rc">
            <label for="inputTelefoonnummer">Telefoonnummer</label>
            <input type="text" value="{{user.telefoonnummer}}" name="telefoonnummer" id="inputTelefoonnummer" class="form-control rc">
            <label for="inputPostcode">Postcode</label>
            <input type="text" value="{{user.postcode}}" name="postcode" id="inputPostcode" class="form-control rc">
            <label for="inputWoonplaats">Woonplaats</label>
            <input type="text" value="{{user.woonplaats}}" name="woonplaats" id="inputWoonplaats" class="form-control rc">
        
            <script>

                $(document).ready(function(){

                    $('#wysiwyg').richText({

                        imageUpload: true,
                        fileUpload: false,
                        fontList: [
                            "Calibri"
                        ],
                        urls: false
                    });
                })
            </script>
            <h1 style="color: #F15A24; margin-top: 30px; margin-bottom: 20px">Motivatie</h1>
            <textarea id="wysiwyg" style="width: 500px" name="motivatie" class="rc"></textarea>

            <button class="btn btn-lg btn-primary" style="margin-top: 20px; margin-bottom: 20px" type="submit">
                Opslaan
            </button>
        </form>
        <h1 style="color: #F15A24">Upload your CV</h1>
            <script>
                $(document).ready(function() {
                    let uploader = new ss.SimpleUpload({
                        button: "upload",
                        url: "{{ path('upload_file') }}",
                        name: 'cv', // upload parameter name die gebruikt wordt in de controller
                        responseType: 'json',
                        allowedExtensions: ['png', 'jpg', 'jpeg', 'pdf'],
                        hoverClass: 'hover-class-upload',
                        focusClass: 'hover-class-upload',
                        multiple: false,
                        disabledClass: 'ui-state-disabled',
                        autoSubmit: true,
                        onSizeError: function() {
                            alert('File may not exceed 100MB');
                        },
                        onExtError: function() {
                            alert('Invalid file type. Please use a PNG, JPG or JPEG or PDF file');
                        },
                        onSubmit: function( filename, extension, uploadBtn, fileSize ) {
                            /// Bijvoorbeeld een overlay of een spinner starten...
                            return(true);
                        },
                        onComplete: function (filename, response) {
                            if(response.success === false) {
                                alert(response.errors);
                            } else {
                                console.log(response.file_id);
                                /// Doe iets met response.file_id (path naar de geuploade file)
                                
                            }
                        }
                    });
                });
            </script>     
            <!--<div id="upload" style="width: 200px; height: 200px; background-color: #F00; cursor: pointer">-->
        <form method="POST">
            <label for="inputcv">CV</label>
            <input type="text" name="cv" id="upload" class="form-control rc">
        </form>
    </div>
</div>
{% endblock %}
